(function(e){e.fn.extend({filter_input:function(t){function r(n){var i=n.input?n.input:e(this);if(n.ctrlKey||n.altKey)return;if(n.type=="keypress"){var s=n.charCode?n.charCode:n.keyCode?n.keyCode:0;if(s==8||s==9||s==13||s==35||s==36||s==37||s==39||s==46){if(n.charCode==0&&n.keyCode==s){return true}}var o=String.fromCharCode(s);if(t.negkey&&o==t.negkey){if(i.val().substr(0,1)==o){i.val(i.val().substring(1,i.val().length)).change()}else{i.val(o+i.val()).change()}return false}var u=new RegExp(t.regex)}else if(n.type=="paste"){i.data("value_before_paste",n.target.value);setTimeout(function(){r({type:"after_paste",input:i})},1);return true}else if(n.type=="after_paste"){var o=i.val();var u=new RegExp("^("+t.regex+")+$")}else{return false}if(u.test(o)){return true}else if(typeof t.feedback=="function"){t.feedback.call(this,o)}if(n.type=="after_paste")i.val(i.data("value_before_paste"));return false}var n={regex:".",negkey:false,live:false,events:"keypress paste"};var t=e.extend(n,t);var i=e.fn.jquery.split(".");if(t.live){if(parseInt(i[0])>=1&&parseInt(i[1])>=7){e(this).on(t.events,r)}else{e(this).live(t.events,r)}}else{return this.each(function(){var n=e(this);if(parseInt(i[0])>=1&&parseInt(i[1])>=7){n.off(t.events).on(t.events,r)}else{n.unbind(t.events).bind(t.events,r)}})}}})})(jQuery)